repos:
  # General file checks
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.5.0
    hooks:
      - id: trailing-whitespace
        exclude: '\.tex$'  # LaTeX may need trailing whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files
        args: ['--maxkb=5000']
      - id: mixed-line-ending

  # LaTeX specific linters - use system latexindent
  - repo: local
    hooks:
      - id: latexindent
        name: latexindent
        entry: latexindent
        args: ['-s', '-w', '-m']
        language: system
        files: '\.tex$'
      - id: check-tex-line-length
        name: Check LaTeX line length (max 100 chars)
        entry: .git-hooks/check-tex-line-length
        language: script
        files: '\.tex$'

  - repo: https://github.com/jonasbb/pre-commit-latex-hooks
    rev: v1.4.0
    hooks:
      - id: american-eg-ie
        files: '\.tex$'
      - id: cleveref-capitalization
        files: '\.tex$'
      - id: consistent-spelling
        files: '\.tex$'
        args:
          - --emph=et al.
      # - id: csquotes
      #   files: '\.tex$'
      # - id: ensure-labels-for-sections  # Disabled - all labels added and verified unique
      #   files: '\.tex$'
      - id: no-space-in-cite
        files: '\.tex$'
      - id: tilde-cite
        files: '\.tex$'
      - id: unique-labels
        files: '\.tex$'

  # ChkTeX - LaTeX semantic checker (temporarily disabled - mirror not available)
  # - repo: https://github.com/pre-commit/mirrors-chktex
  #   rev: v1.7.8
  #   hooks:
  #     - id: chktex
  #       args: ['-n', '1', '-n', '2', '-n', '3', '-n', '8', '-n', '25', '-n', '36']

  # YAML linting for this file
  - repo: https://github.com/adrienverge/yamllint
    rev: v1.33.0
    hooks:
      - id: yamllint
        args: ['-d', '{extends: default, rules: {line-length: {max: 120}}}']
