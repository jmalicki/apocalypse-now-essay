#!/usr/bin/env python3
"""Check LaTeX files for lines exceeding maximum length."""
import sys

MAX_LINE_LENGTH = 100
exit_code = 0

for filepath in sys.argv[1:]:
    try:
        with open(filepath, 'r', encoding='utf-8') as f:
            for line_num, line in enumerate(f, 1):
                line_len = len(line.rstrip())
                if line_len > MAX_LINE_LENGTH:
                    print(f"{filepath}:{line_num}: Line too long ({line_len} chars, max {MAX_LINE_LENGTH})")
                    exit_code = 1
    except Exception as e:
        print(f"Error reading {filepath}: {e}")
        exit_code = 1

sys.exit(exit_code)
